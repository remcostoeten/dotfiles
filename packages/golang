#!/usr/bin/env fish

# Golang environment setup
export GOPATH="$HOME/go"; export GOROOT="$HOME/.go"; export PATH="$GOPATH/bin:$PATH"; # g-install: do NOT edit, see https://github.com/stefanmaric/g
alias go="$GOPATH/bin/g"; # g-install: do NOT edit, see https://github.com/stefanmaric/g

# Safety check for go command
function go --description "Go command with safety check"
    if not command -v "$GOPATH/bin/g" &> /dev/null
        echo "Golang not found, please run \`bun run dev\` inside the dotfiles installer at \`/home/remcostoeten/.config/dotfiles/opentui-setup\`"
        return 1
    end
    command "$GOPATH/bin/g" $argv
end