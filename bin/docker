#!/usr/bin/env bash

# Docker Container Manager Wrapper
# Executes the TypeScript-based docker manager

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
DOTFILES_DIR="$(dirname "$SCRIPT_DIR")"
DOCKER_MANAGER_PATH="$DOTFILES_DIR/scripts/docker/dist/index.js"

# Check if the built docker manager exists
if [[ ! -f "$DOCKER_MANAGER_PATH" ]]; then
    echo "Error: Docker manager not found at $DOCKER_MANAGER_PATH"
    echo "Please run: cd $DOTFILES_DIR/scripts/docker && bun run build"
    exit 1
fi

# Execute the docker manager with all provided arguments
exec node "$DOCKER_MANAGER_PATH" "$@"