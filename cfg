#!/usr/bin/env bash

export DOTFILES_ROOT="${HOME}/.config/dotfiles"

[[ ! -d "$DOTFILES_ROOT" ]] && echo "ERROR: Dotfiles not found at $DOTFILES_ROOT" && exit 1

source "${DOTFILES_ROOT}/core/_env"

source "${DOTFILES_ROOT}/core/_colors"

[[ -f "${DOTFILES_ROOT}/assets/ascii/intro" ]] && source "${DOTFILES_ROOT}/assets/ascii/intro" && echo.dotfiles_banner 2>/dev/null || true

source "${DOTFILES_ROOT}/core/_safety"

source "${DOTFILES_ROOT}/core/_bootstrap"

dotfiles_bootstrap

alias reload='exec ${SHELL}'
alias cdf='cd ${DOTFILES_ROOT}'

if [[ -t 1 ]]; then
    echo
    echo.success "Dotfiles v${DOTFILES_VERSION} loaded"
    echo.info "Type $(echo.cyan 'dotfiles help') for available commands"
    echo
fi
# Load environment variables & secrets
# Use dotfiles env to manage encrypted environment variables and OAuth tokens

# Export environment variables and secrets
dotfiles env export 2>/dev/null || true

# Personal Startpage - Auto command tracking
source /home/remcostoeten/current/personal-startpage/shell-integration.sh
alias pct="personal-dashboard"
alias dashboard="personal-dashboard"
