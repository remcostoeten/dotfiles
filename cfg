#!/usr/bin/env bash

export DOTFILES_ROOT="${HOME}/.config/dotfiles"

[[ ! -d "$DOTFILES_ROOT" ]] && echo "ERROR: Dotfiles not found at $DOTFILES_ROOT" && exit 1

source "${DOTFILES_ROOT}/core/_env"

source "${DOTFILES_ROOT}/sourcers/alias-sourcer"

source "${DOTFILES_ROOT}/sourcers/script-sourcer"

source "${DOTFILES_ROOT}/core/_colors"

# Source banner functions but let bootstrap handle display
[[ -f "${DOTFILES_ROOT}/assets/ascii/intro" ]] && source "${DOTFILES_ROOT}/assets/ascii/intro" 2>/dev/null || true

source "${DOTFILES_ROOT}/core/_safety"

source "${DOTFILES_ROOT}/core/_bootstrap"

# Run the bootstrap process (this displays the banner at the end)
dotfiles_bootstrap

alias reload='exec ${SHELL}'
alias cdf='cd ${DOTFILES_ROOT}'
alias tour='dotfiles tour'
alias dotfiles='noglob dotfiles'

if [[ -t 1 ]]; then
  echo.info "Type $(echo.cyan 'dotfiles help') for available commands"
fi
# Load environment variables silently
dotfiles env export >/dev/null 2>&1 || true

# Turso
export PATH="$PATH:/home/remcostoeten/.turso"
